<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Ett stickprov av normalfördelad data | R-anvisningar till Grundläggande statistik</title>
  <meta name="description" content="5 Ett stickprov av normalfördelad data | R-anvisningar till Grundläggande statistik" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Ett stickprov av normalfördelad data | R-anvisningar till Grundläggande statistik" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Ett stickprov av normalfördelad data | R-anvisningar till Grundläggande statistik" />
  
  
  



<meta name="date" content="2024-10-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="slumpvariabler.html"/>
<link rel="next" href="ett-stickprov-av-icke-normalfördelad-data.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R-anvisningar</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduktion</a></li>
<li class="chapter" data-level="" data-path="installation-av-r-och-rstudio.html"><a href="installation-av-r-och-rstudio.html"><i class="fa fa-check"></i>Installation av R och RStudio</a>
<ul>
<li class="chapter" data-level="0.1" data-path="installation-av-r-och-rstudio.html"><a href="installation-av-r-och-rstudio.html#inledning"><i class="fa fa-check"></i><b>0.1</b> Inledning</a></li>
<li class="chapter" data-level="0.2" data-path="installation-av-r-och-rstudio.html"><a href="installation-av-r-och-rstudio.html#installation-av-r"><i class="fa fa-check"></i><b>0.2</b> Installation av R</a></li>
<li class="chapter" data-level="0.3" data-path="installation-av-r-och-rstudio.html"><a href="installation-av-r-och-rstudio.html#installation-av-rstudio"><i class="fa fa-check"></i><b>0.3</b> Installation av RStudio</a></li>
<li class="chapter" data-level="0.4" data-path="installation-av-r-och-rstudio.html"><a href="installation-av-r-och-rstudio.html#gränssnittet-i-rstudio"><i class="fa fa-check"></i><b>0.4</b> Gränssnittet i RStudio</a></li>
<li class="chapter" data-level="0.5" data-path="installation-av-r-och-rstudio.html"><a href="installation-av-r-och-rstudio.html#paket-i-r"><i class="fa fa-check"></i><b>0.5</b> Paket i R</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="datahantering-och-grafer.html"><a href="datahantering-och-grafer.html"><i class="fa fa-check"></i><b>1</b> Datahantering och grafer</a>
<ul>
<li class="chapter" data-level="1.1" data-path="datahantering-och-grafer.html"><a href="datahantering-och-grafer.html#uppstart-och-orientering"><i class="fa fa-check"></i><b>1.1</b> Uppstart och orientering</a></li>
<li class="chapter" data-level="1.2" data-path="datahantering-och-grafer.html"><a href="datahantering-och-grafer.html#packages-från-cran"><i class="fa fa-check"></i><b>1.2</b> <em>Packages</em> från CRAN</a></li>
<li class="chapter" data-level="1.3" data-path="datahantering-och-grafer.html"><a href="datahantering-och-grafer.html#objekt-och-funktioner"><i class="fa fa-check"></i><b>1.3</b> Objekt och funktioner</a></li>
<li class="chapter" data-level="1.4" data-path="datahantering-och-grafer.html"><a href="datahantering-och-grafer.html#sekvenser-av-funktioner"><i class="fa fa-check"></i><b>1.4</b> Sekvenser av funktioner</a></li>
<li class="chapter" data-level="1.5" data-path="datahantering-och-grafer.html"><a href="datahantering-och-grafer.html#datainskrivning-och-dataimport-från-web"><i class="fa fa-check"></i><b>1.5</b> Datainskrivning och dataimport från web</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="datahantering-och-grafer.html"><a href="datahantering-och-grafer.html#inskrivning-av-data"><i class="fa fa-check"></i><b>1.5.1</b> Inskrivning av data</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="datahantering-och-grafer.html"><a href="datahantering-och-grafer.html#urval-ur-en-tabell-med-select-och-filter"><i class="fa fa-check"></i><b>1.6</b> Urval ur en tabell med <code>select</code> och <code>filter</code></a></li>
<li class="chapter" data-level="1.7" data-path="datahantering-och-grafer.html"><a href="datahantering-och-grafer.html#grafer-med-ggplot2"><i class="fa fa-check"></i><b>1.7</b> Grafer med <code>ggplot2</code></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="ai-uppgift-i.html"><a href="ai-uppgift-i.html"><i class="fa fa-check"></i><b>2</b> AI-uppgift I</a></li>
<li class="chapter" data-level="3" data-path="beskrivande-statistik.html"><a href="beskrivande-statistik.html"><i class="fa fa-check"></i><b>3</b> Beskrivande statistik</a>
<ul>
<li class="chapter" data-level="3.1" data-path="beskrivande-statistik.html"><a href="beskrivande-statistik.html#repetition-från-datorövning-1"><i class="fa fa-check"></i><b>3.1</b> Repetition från datorövning 1</a></li>
<li class="chapter" data-level="3.2" data-path="beskrivande-statistik.html"><a href="beskrivande-statistik.html#import-av-data-från-en-excelfil"><i class="fa fa-check"></i><b>3.2</b> Import av data från en Excelfil</a></li>
<li class="chapter" data-level="3.3" data-path="beskrivande-statistik.html"><a href="beskrivande-statistik.html#ändra-och-skapa-nya-kolumner-med-mutate"><i class="fa fa-check"></i><b>3.3</b> Ändra och skapa nya kolumner med <code>mutate</code></a></li>
<li class="chapter" data-level="3.4" data-path="beskrivande-statistik.html"><a href="beskrivande-statistik.html#sammanfattande-lägesmått"><i class="fa fa-check"></i><b>3.4</b> Sammanfattande lägesmått</a></li>
<li class="chapter" data-level="3.5" data-path="beskrivande-statistik.html"><a href="beskrivande-statistik.html#sammanfattande-spridningsmått"><i class="fa fa-check"></i><b>3.5</b> Sammanfattande spridningsmått</a></li>
<li class="chapter" data-level="3.6" data-path="beskrivande-statistik.html"><a href="beskrivande-statistik.html#ordna-upp-beskrivande-statistik-och-exportera"><i class="fa fa-check"></i><b>3.6</b> Ordna upp beskrivande statistik och exportera</a></li>
<li class="chapter" data-level="3.7" data-path="beskrivande-statistik.html"><a href="beskrivande-statistik.html#kumulativt-medelvärde"><i class="fa fa-check"></i><b>3.7</b> Kumulativt medelvärde</a></li>
<li class="chapter" data-level="3.8" data-path="beskrivande-statistik.html"><a href="beskrivande-statistik.html#darwin-exempel"><i class="fa fa-check"></i><b>3.8</b> Darwin-exempel</a></li>
<li class="chapter" data-level="3.9" data-path="beskrivande-statistik.html"><a href="beskrivande-statistik.html#bonus.-tredimensionella-grafer-med-plotly"><i class="fa fa-check"></i><b>3.9</b> Bonus. Tredimensionella grafer med <code>plotly</code></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="slumpvariabler.html"><a href="slumpvariabler.html"><i class="fa fa-check"></i><b>4</b> Slumpvariabler</a>
<ul>
<li class="chapter" data-level="4.1" data-path="slumpvariabler.html"><a href="slumpvariabler.html#repetition-från-datorövning-2"><i class="fa fa-check"></i><b>4.1</b> Repetition från datorövning 2</a></li>
<li class="chapter" data-level="4.2" data-path="slumpvariabler.html"><a href="slumpvariabler.html#särskilda-diskreta-fördelningar-binomialfördelning"><i class="fa fa-check"></i><b>4.2</b> Särskilda diskreta fördelningar: binomialfördelning</a></li>
<li class="chapter" data-level="4.3" data-path="slumpvariabler.html"><a href="slumpvariabler.html#särskilda-diskreta-fördelningar-poissonfördelning"><i class="fa fa-check"></i><b>4.3</b> Särskilda diskreta fördelningar: poissonfördelning</a></li>
<li class="chapter" data-level="4.4" data-path="slumpvariabler.html"><a href="slumpvariabler.html#kontinuerliga-fördelningar-i-allmänhet"><i class="fa fa-check"></i><b>4.4</b> Kontinuerliga fördelningar i allmänhet</a></li>
<li class="chapter" data-level="4.5" data-path="slumpvariabler.html"><a href="slumpvariabler.html#särskilda-kontinuerliga-fördelningar-normalfördelningen"><i class="fa fa-check"></i><b>4.5</b> Särskilda kontinuerliga fördelningar: normalfördelningen</a></li>
<li class="chapter" data-level="4.6" data-path="slumpvariabler.html"><a href="slumpvariabler.html#bonus.-summan-av-två-slumpvariabler-med-slumptal"><i class="fa fa-check"></i><b>4.6</b> Bonus. Summan av två slumpvariabler med slumptal</a></li>
<li class="chapter" data-level="4.7" data-path="slumpvariabler.html"><a href="slumpvariabler.html#bonus.-cirkelns-area-från-slumptal"><i class="fa fa-check"></i><b>4.7</b> Bonus. Cirkelns area från slumptal</a></li>
<li class="chapter" data-level="4.8" data-path="slumpvariabler.html"><a href="slumpvariabler.html#bonus.-slump-och-ordning---sierpinski-triangeln"><i class="fa fa-check"></i><b>4.8</b> Bonus. Slump och ordning - Sierpinski-triangeln</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="ett-stickprov-av-normalfördelad-data.html"><a href="ett-stickprov-av-normalfördelad-data.html"><i class="fa fa-check"></i><b>5</b> Ett stickprov av normalfördelad data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="ett-stickprov-av-normalfördelad-data.html"><a href="ett-stickprov-av-normalfördelad-data.html#repetition-av-datorövning-3"><i class="fa fa-check"></i><b>5.1</b> Repetition av datorövning 3</a></li>
<li class="chapter" data-level="5.2" data-path="ett-stickprov-av-normalfördelad-data.html"><a href="ett-stickprov-av-normalfördelad-data.html#test-av-medelvärde-för-normalfördelad-data"><i class="fa fa-check"></i><b>5.2</b> Test av medelvärde för normalfördelad data</a></li>
<li class="chapter" data-level="5.3" data-path="ett-stickprov-av-normalfördelad-data.html"><a href="ett-stickprov-av-normalfördelad-data.html#konfidensintervall-för-normalfördelad-data"><i class="fa fa-check"></i><b>5.3</b> Konfidensintervall för normalfördelad data</a></li>
<li class="chapter" data-level="5.4" data-path="ett-stickprov-av-normalfördelad-data.html"><a href="ett-stickprov-av-normalfördelad-data.html#normalfördelad-data-och-centrala-gränsvärdesatsen"><i class="fa fa-check"></i><b>5.4</b> Normalfördelad data och centrala gränsvärdesatsen</a></li>
<li class="chapter" data-level="5.5" data-path="ett-stickprov-av-normalfördelad-data.html"><a href="ett-stickprov-av-normalfördelad-data.html#centrala-gränsvärdesatsen"><i class="fa fa-check"></i><b>5.5</b> Centrala gränsvärdesatsen</a></li>
<li class="chapter" data-level="5.6" data-path="ett-stickprov-av-normalfördelad-data.html"><a href="ett-stickprov-av-normalfördelad-data.html#bonus.-simuleringar-för-t-test-och-konfidensintervall"><i class="fa fa-check"></i><b>5.6</b> Bonus. Simuleringar för t-test och konfidensintervall</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ett-stickprov-av-icke-normalfördelad-data.html"><a href="ett-stickprov-av-icke-normalfördelad-data.html"><i class="fa fa-check"></i><b>6</b> Ett stickprov av icke-normalfördelad data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ett-stickprov-av-icke-normalfördelad-data.html"><a href="ett-stickprov-av-icke-normalfördelad-data.html#repetition-av-datorövning-4"><i class="fa fa-check"></i><b>6.1</b> Repetition av datorövning 4</a></li>
<li class="chapter" data-level="6.2" data-path="ett-stickprov-av-icke-normalfördelad-data.html"><a href="ett-stickprov-av-icke-normalfördelad-data.html#proportioner-från-binär-data"><i class="fa fa-check"></i><b>6.2</b> Proportioner från binär data</a></li>
<li class="chapter" data-level="6.3" data-path="ett-stickprov-av-icke-normalfördelad-data.html"><a href="ett-stickprov-av-icke-normalfördelad-data.html#konfidensintervall-för-proportioner"><i class="fa fa-check"></i><b>6.3</b> Konfidensintervall för proportioner</a></li>
<li class="chapter" data-level="6.4" data-path="ett-stickprov-av-icke-normalfördelad-data.html"><a href="ett-stickprov-av-icke-normalfördelad-data.html#chi-två-test-för-goodness-of-fit"><i class="fa fa-check"></i><b>6.4</b> Chi-två-test för goodness-of-fit</a></li>
<li class="chapter" data-level="6.5" data-path="ett-stickprov-av-icke-normalfördelad-data.html"><a href="ett-stickprov-av-icke-normalfördelad-data.html#chi-två-test-när-någon-parameter-skattas-från-datan"><i class="fa fa-check"></i><b>6.5</b> Chi-två-test när någon parameter skattas från datan</a></li>
<li class="chapter" data-level="6.6" data-path="ett-stickprov-av-icke-normalfördelad-data.html"><a href="ett-stickprov-av-icke-normalfördelad-data.html#bonus.-interaktiva-kartor-med-leaflet"><i class="fa fa-check"></i><b>6.6</b> Bonus. Interaktiva kartor med leaflet</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="test-för-två-stickprov.html"><a href="test-för-två-stickprov.html"><i class="fa fa-check"></i><b>7</b> Test för två stickprov</a>
<ul>
<li class="chapter" data-level="7.1" data-path="test-för-två-stickprov.html"><a href="test-för-två-stickprov.html#repetition-av-datorövning-5"><i class="fa fa-check"></i><b>7.1</b> Repetition av datorövning 5</a></li>
<li class="chapter" data-level="7.2" data-path="test-för-två-stickprov.html"><a href="test-för-två-stickprov.html#två-stickprov-och-normalfördelad-data"><i class="fa fa-check"></i><b>7.2</b> Två stickprov och normalfördelad data</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="test-för-två-stickprov.html"><a href="test-för-två-stickprov.html#t-test-för-två-matchade-stickprov"><i class="fa fa-check"></i><b>7.2.1</b> t-test för två matchade stickprov</a></li>
<li class="chapter" data-level="7.2.2" data-path="test-för-två-stickprov.html"><a href="test-för-två-stickprov.html#t-test-för-två-oberoende-stickprov"><i class="fa fa-check"></i><b>7.2.2</b> t-test för två oberoende stickprov</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="test-för-två-stickprov.html"><a href="test-för-två-stickprov.html#z-test-och-konfidensintervall-för-två-proportioner"><i class="fa fa-check"></i><b>7.3</b> z-test och konfidensintervall för två proportioner</a></li>
<li class="chapter" data-level="7.4" data-path="test-för-två-stickprov.html"><a href="test-för-två-stickprov.html#chi-två-test-för-korstabeller"><i class="fa fa-check"></i><b>7.4</b> Chi-två-test för korstabeller</a></li>
<li class="chapter" data-level="7.5" data-path="test-för-två-stickprov.html"><a href="test-för-två-stickprov.html#bonus.-bilder-i-r"><i class="fa fa-check"></i><b>7.5</b> Bonus. Bilder i R</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="variansanalys.html"><a href="variansanalys.html"><i class="fa fa-check"></i><b>8</b> Variansanalys</a>
<ul>
<li class="chapter" data-level="8.1" data-path="variansanalys.html"><a href="variansanalys.html#repetition-av-datorövning-6"><i class="fa fa-check"></i><b>8.1</b> Repetition av datorövning 6</a></li>
<li class="chapter" data-level="8.2" data-path="variansanalys.html"><a href="variansanalys.html#allmänt"><i class="fa fa-check"></i><b>8.2</b> Allmänt</a></li>
<li class="chapter" data-level="8.3" data-path="variansanalys.html"><a href="variansanalys.html#variansanalys.-en-faktor"><i class="fa fa-check"></i><b>8.3</b> Variansanalys. En faktor</a></li>
<li class="chapter" data-level="8.4" data-path="variansanalys.html"><a href="variansanalys.html#variansanalys.-en-faktor-med-block"><i class="fa fa-check"></i><b>8.4</b> Variansanalys. En faktor med block</a></li>
<li class="chapter" data-level="8.5" data-path="variansanalys.html"><a href="variansanalys.html#variansanalys.-två-faktorer-med-block"><i class="fa fa-check"></i><b>8.5</b> Variansanalys. Två faktorer med block</a></li>
<li class="chapter" data-level="8.6" data-path="variansanalys.html"><a href="variansanalys.html#modellantaganden-och-residualer"><i class="fa fa-check"></i><b>8.6</b> Modellantaganden och residualer</a></li>
<li class="chapter" data-level="8.7" data-path="variansanalys.html"><a href="variansanalys.html#bonus.-statistik-för-ekologi"><i class="fa fa-check"></i><b>8.7</b> Bonus. Statistik för ekologi</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="regression-och-korrelation.html"><a href="regression-och-korrelation.html"><i class="fa fa-check"></i><b>9</b> Regression och korrelation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="regression-och-korrelation.html"><a href="regression-och-korrelation.html#repetition-av-datorövning-7"><i class="fa fa-check"></i><b>9.1</b> Repetition av datorövning 7</a></li>
<li class="chapter" data-level="9.2" data-path="regression-och-korrelation.html"><a href="regression-och-korrelation.html#regression"><i class="fa fa-check"></i><b>9.2</b> Regression</a></li>
<li class="chapter" data-level="9.3" data-path="regression-och-korrelation.html"><a href="regression-och-korrelation.html#korrelation"><i class="fa fa-check"></i><b>9.3</b> Korrelation</a></li>
<li class="chapter" data-level="9.4" data-path="regression-och-korrelation.html"><a href="regression-och-korrelation.html#bonus.-skrapa-data-från-webbsidor"><i class="fa fa-check"></i><b>9.4</b> Bonus. Skrapa data från webbsidor</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R-anvisningar till <em>Grundläggande statistik</em></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ett-stickprov-av-normalfördelad-data" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Ett stickprov av normalfördelad data<a href="ett-stickprov-av-normalfördelad-data.html#ett-stickprov-av-normalfördelad-data" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Datorövning 4 handlar om hypotestest och konfidensintervall för ett stickprov av normalfördelad data. Efter övningen ska vi kunna</p>
<ul>
<li><p>genomföra och tolka ett t-test för normalfördelad data,</p></li>
<li><p>beräkna och tolka ett konfidensintervall för normalfördelad data,</p></li>
<li><p>använda simulerad data för att förstå t-testets egenskaper.</p></li>
</ul>
<div id="repetition-av-datorövning-3" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Repetition av datorövning 3<a href="ett-stickprov-av-normalfördelad-data.html#repetition-av-datorövning-3" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>När man startar en ny R-session bör man ladda de paket man vet kommer behövas med <code>library()</code>. Om paket inte finns installerade måste man först köra <code>install.packages()</code>.</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb186-1" tabindex="-1"></a><span class="co"># install.packages(&quot;tidyverse&quot;)</span></span>
<span id="cb186-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb186-2" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<p>I datorövning 3 tittade vi på funktioner för att ta fram sannolikheter och slumptal från någon given fördelning.</p>
<p>Sannolikhetsfunktionen - som anger sannolikheten för ett specifikt utfall - kan i R tas fram med funktioner som börjar med <code>d</code>, till exempel <code>dbinom()</code> och <code>dpois()</code>. För en kontinuerlig slumpvariabel ger <code>d</code> istället täthetsfunktionens värde, till exempel <code>dnorm()</code> för normalfördelningen.</p>
<p>Binomialfördelningen är en fördelning för summan av positiva utfall vid n upprepningar av likadana binära slumphändelser. Fördelningens parametrar är n - antalet försök, och p - sannolikheten för varje enskilt försök. Ett exempel kan vara att man kastar en tiosidig tärning fem gånger och tittar på antalet ettor. Följande beräkning ger sannolikheten att få tre ettor vid fem kast.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb187-1" tabindex="-1"></a><span class="fu">dbinom</span>(<span class="dv">3</span>, <span class="dv">5</span>, <span class="at">prob =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<pre><code>## [1] 0.0081</code></pre>
<p>Poissonfördelning är en fördelning för antalet händelser om händelsen potentiellt kan inträffa väldigt ofta men gör så med låg sannolikhet. Fördelningen har en parameter, lambda, och vanliga exempel är observationer av ovanliga arter och olika typer av sällsynta händelser. Säg som exempel att någon art vanligen observeras tio gånger per år i en viss region. Sannolikheten för exakt fem observationer ett visst år ges av</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb189-1" tabindex="-1"></a><span class="fu">dpois</span>(<span class="dv">5</span>, <span class="at">lambda =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 0.03783327</code></pre>
<p>Fördelningsfunktionen - som anger sannolikhet under eller lika med ett givet värde - tas fram med funktioner som börjar på <code>p</code>, till exempel <code>pbinom()</code>, <code>ppois()</code> och <code>pnorm()</code>. Fördelningsfunktionen är särskilt användbar för normalfördelningen. Om en plantas höjd tros vara normalfördelad med medelvärde 10 cm och standardavvikelse 2, kan man beräkna sannolikheten att en slumpmässigt vald planta är över 13 cm.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb191-1" tabindex="-1"></a><span class="dv">1</span> <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="dv">13</span>, <span class="at">mean =</span> <span class="dv">10</span>, <span class="at">sd =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] 0.0668072</code></pre>
<p>Eftersom <code>pnorm()</code> ger sannolikheten <em>under</em> 13, ger ett minus den sannolikheten värdet <em>över</em> 13.</p>
<p>Slumputfall kan beräknas med funktionen <code>sample()</code>, till exempel <code>sample(1:6, 10000000, replace = T)</code> för tio miljoner tärningskast. För specifika fördelningar finns särskilda funktioner som <code>rbinom()</code>, <code>rpois()</code> och <code>rnorm()</code>.</p>
</div>
<div id="test-av-medelvärde-för-normalfördelad-data" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Test av medelvärde för normalfördelad data<a href="ett-stickprov-av-normalfördelad-data.html#test-av-medelvärde-för-normalfördelad-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Om man har en normalfördelad variabel och vill testa om populationens medelvärde är skilt från något hypotetiskt värde <span class="math inline">\(\mu_0\)</span> kan man använda ett <em>t-test för ett stickprov</em>. Ta som exempel följande data på 8 observationer av havreskörd. Av någon historisk anledning vill man testa om populationsmedelvärdet är skilt från 50.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb193-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb193-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb193-2" tabindex="-1"></a></span>
<span id="cb193-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb193-3" tabindex="-1"></a>dat <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">c</span>(<span class="fl">49.8</span>, <span class="fl">58.4</span>, <span class="fl">49.4</span>, <span class="fl">57.1</span>, <span class="fl">52.2</span>, <span class="fl">49.1</span>, <span class="fl">44.6</span>, <span class="fl">55.4</span>))</span>
<span id="cb193-4"><a href="ett-stickprov-av-normalfördelad-data.html#cb193-4" tabindex="-1"></a>dat</span></code></pre></div>
<pre><code>##      x
## 1 49.8
## 2 58.4
## 3 49.4
## 4 57.1
## 5 52.2
## 6 49.1
## 7 44.6
## 8 55.4</code></pre>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb195-1" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(x, <span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb195-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb195-2" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb195-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb195-3" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> <span class="dv">50</span>, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-132-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>I grafen ser vi att värdena ligger jämt spridda kring 50, så 50 är nog ganska rimligt som medelvärde, men låt oss göra ett formellt test.
I R kan ett t-test genomföras med <code>t.test()</code>.</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb196-1" tabindex="-1"></a><span class="fu">t.test</span>(dat<span class="sc">$</span>x, <span class="at">mu =</span> <span class="dv">50</span>)   <span class="co"># Ett t-test på variabeln x i dataobjektet dat</span></span></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  dat$x
## t = 1.2086, df = 7, p-value = 0.266
## alternative hypothesis: true mean is not equal to 50
## 95 percent confidence interval:
##  48.08713 55.91287
## sample estimates:
## mean of x 
##        52</code></pre>
<p>Utskriften ger ett p-värde från vilket vi kan dra en slutsats. I det här fallet är p-värdet högt (över fem procent) så vi kan inte förkasta nollhypotesen (vilken är att populationsmedelvärdet är lika med 50).</p>
<p>Vi tittar nu på stegen bakom t-testet.
Ett t-test bygger, som alla hypotestest, på en serie steg:</p>
<ol style="list-style-type: decimal">
<li>sätt upp en <em>nollhypotes</em> och en <em>alternativhypotes</em>,</li>
<li>beräkna ett <em>testvärde</em> från en testfunktion,</li>
<li>identifiera en <em>testfördelning</em>,</li>
<li>beräkna ett <em>p-värde</em>, eller uppskatta ett genom att ställa testvärde mot ett kritiskt värde,</li>
<li>dra en klar <em>slutsats</em> om statistisk signifikans.</li>
</ol>
<p>Vi vill testa om medelskörden är skild från 50, så hypoteser ges av</p>
<ul>
<li>H0: mu lika med 50</li>
<li>H1: mu ej lika med 50</li>
</ul>
<p>Alternativhypotesen är tvåsidig - vi tittar både på möjligheten att populationsmedelvärdet är större och på möjligheten att det är mindre.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-70" class="exercise"><strong>Uppgift 5.1  (Ensidig mothypotes) </strong></span>Hur hade hypoteserna sett ut om vi ville testa om medelvärdet är <em>större</em> än 50?</p>
</div>
<p>Vårt mål är att testa ett medelvärde och det är rimligt att anta normalfördelning för den undersökta variabeln. Det lämpliga testet är då ett t-test för ett stickprov och testvärdet kan beräknas av en testfunktion som ges av det observerade stickprovet minus nollhypotesens värde, delat på standardavvikelsen delat på roten ur antalet observationer. Låt oss beräkna detta i flera steg och jämföra med utskriften från <code>t.test()</code>.</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb198-1" tabindex="-1"></a><span class="fu">mean</span>(dat<span class="sc">$</span>x)</span></code></pre></div>
<pre><code>## [1] 52</code></pre>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb200-1" tabindex="-1"></a><span class="fu">sd</span>(dat<span class="sc">$</span>x)</span></code></pre></div>
<pre><code>## [1] 4.680354</code></pre>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb202-1" tabindex="-1"></a>t_value <span class="ot">&lt;-</span> (<span class="dv">52</span> <span class="sc">-</span> <span class="dv">50</span>) <span class="sc">/</span> (<span class="fl">4.680354</span> <span class="sc">/</span> <span class="fu">sqrt</span>(<span class="dv">8</span>))</span></code></pre></div>
<div class="exercise">
<p><span id="exr:unlabeled-div-71" class="exercise"><strong>Uppgift 5.2  (Operationsordning) </strong></span>Räkna ut samma sak på miniräknare eller telefon. Vad händer om man missar parenteser runt <code>4.680354 / sqrt(8)</code>?</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-72" class="exercise"><strong>Uppgift 5.3  (t-värdets delar) </strong></span>Vad händer med t-värdet om något av följande händer, givet att övriga delar är desamma? Det observerade medelvärdet (här 52) ökar. Nollhypotesens värde (här 50) minskar. Standardavvikelsen (här 4.680354) minskar. Antalet observationer (här 8) ökar.</p>
<p>Testa genom att ändra värdena i kodstycket ovan och beräkna <code>t_value</code> på nytt.</p>
</div>
<p>Nästa steg är att identifiera testfördelning, det vill säga den slumpfördelning testvärdet följet om nollhypotesen är sann. Fördelningen ges i regel av statistisk teori. I det här fallet är testfördelning en t-fördelning med n - 1 frihetsgrader. Vi har åtta observationer, så antalet frihetsgrader blir 7. I R kan man ta fram täthetsfunktionen för en t-fördelning med <code>dt()</code> och fördelningsfunktionen med <code>pt()</code>.</p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb203-1" tabindex="-1"></a>dat_t <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">4</span>, <span class="dv">4</span>, <span class="fl">0.1</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb203-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb203-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">p =</span> <span class="fu">dt</span>(x, <span class="at">df =</span> <span class="dv">7</span>),</span>
<span id="cb203-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb203-3" tabindex="-1"></a>         <span class="at">P =</span> <span class="fu">pt</span>(x, <span class="at">df =</span> <span class="dv">7</span>))</span>
<span id="cb203-4"><a href="ett-stickprov-av-normalfördelad-data.html#cb203-4" tabindex="-1"></a></span>
<span id="cb203-5"><a href="ett-stickprov-av-normalfördelad-data.html#cb203-5" tabindex="-1"></a><span class="fu">ggplot</span>(dat_t, <span class="fu">aes</span>(x, p)) <span class="sc">+</span></span>
<span id="cb203-6"><a href="ett-stickprov-av-normalfördelad-data.html#cb203-6" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-135-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb204-1" tabindex="-1"></a><span class="fu">ggplot</span>(dat_t, <span class="fu">aes</span>(x, P)) <span class="sc">+</span></span>
<span id="cb204-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb204-2" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-135-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>Nästa steg i ett hypotestest är att ta fram ett p-värdet. P-värdet kan illustreras som ytan under t-fördelning <em>bortom</em> test-värdet. I ett tvåsidigt test tar vi med bägge svansarna.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb205-1" tabindex="-1"></a><span class="fu">ggplot</span>(dat_t) <span class="sc">+</span></span>
<span id="cb205-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb205-2" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(x, p)) <span class="sc">+</span></span>
<span id="cb205-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb205-3" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> p), <span class="at">data =</span> dat_t <span class="sc">%&gt;%</span> <span class="fu">filter</span>(x <span class="sc">&gt;</span> <span class="fu">abs</span>(t_value)), <span class="at">fill =</span> <span class="st">&quot;salmon&quot;</span>) <span class="sc">+</span></span>
<span id="cb205-4"><a href="ett-stickprov-av-normalfördelad-data.html#cb205-4" tabindex="-1"></a>  <span class="fu">geom_ribbon</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">ymin =</span> <span class="dv">0</span>, <span class="at">ymax =</span> p), <span class="at">data =</span> dat_t <span class="sc">%&gt;%</span> <span class="fu">filter</span>(x <span class="sc">&lt;</span> <span class="sc">-</span><span class="fu">abs</span>(t_value)), <span class="at">fill =</span> <span class="st">&quot;salmon&quot;</span>)</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-136-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>De röda ytorna i <em>svansarna</em> motsvarar p-värdet. De anger sannolikheten att få ett större t-värde än det vi fått, under antagandet att nollhypotesen stämmer. Vi kan beräkna p-värdet med <code>pt()</code>. För ett tvåsidigt test multipliceras värdet med 2.</p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb206-1" tabindex="-1"></a><span class="dv">2</span> <span class="sc">*</span> <span class="fu">pt</span>(<span class="sc">-</span><span class="fu">abs</span>(t_value), <span class="dv">7</span>) <span class="co"># Tvåsidigt p-värde</span></span></code></pre></div>
<pre><code>## [1] 0.2660402</code></pre>
<p>P-värdet ges av 0.266. En tolkning av det är om försöket upprepas ett stort antal gånger och nollhypotesen är sann, kommer vi 26.6 procent av gångerna få ett större testvärde än 1.2086. Det vi observerar är ganska sannolikt under nollhypotesen, vilket tyder på att nollhypotesen är rimligt.</p>
<p>Det avslutande steget är att dra en formell slutsats och ge ett tydligt svar. Det klassiska sättet är att jämföra p-värdet med en förbestämd signifikansnivå, oftast fem procent. Här är p-värdet över den nivån, så vi kan inte förkasta nollhyptesen. Slutsatsen är att det <em>inte</em> finns någon signifikant skillnad från 50 i havreskörd.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-73" class="exercise"><strong>Uppgift 5.4  (Kritiskt värde) </strong></span>Om man gör ett t-test för hand kan man inte enkelt ta fram ett p-värde, men kan se om p-värdet är större eller mindre än fem procent genom att ställa testvärdet mot ett kritiskt värde. Använd en tabell för t-fördelning för att hitta det kritiska värdet.</p>
<p>I R kan man ta fram kritiska värden med <code>qt()</code>. För fem procent i svansarna har man 0.025 i respektive svans och det kritiska värdet ges av</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb208-1" tabindex="-1"></a><span class="fu">qt</span>(<span class="fl">0.975</span>, <span class="dv">7</span>)</span></code></pre></div>
<pre><code>## [1] 2.364624</code></pre>
</div>
<p>Som visades i början har R en specifik funktion för t-testet, <code>t.test()</code>. Funktionens argument är datan man testar och ett nollhypotesvärde <code>mu</code>. Om man vill ha ett ensidigt test kan det sättas med argumentet <code>alternative</code>. För vår data ges testet av</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb210-1" tabindex="-1"></a><span class="fu">t.test</span>(dat<span class="sc">$</span>x, <span class="at">mu =</span> <span class="dv">50</span>) <span class="co"># Tvåsidigt test</span></span></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  dat$x
## t = 1.2086, df = 7, p-value = 0.266
## alternative hypothesis: true mean is not equal to 50
## 95 percent confidence interval:
##  48.08713 55.91287
## sample estimates:
## mean of x 
##        52</code></pre>
<p>Funktionen skriver ut det beräkna t-värdet, antal frihetsgrader och p-värdet.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-74" class="exercise"><strong>Uppgift 5.5  (Ensigt test) </strong></span>Använd <code>?t.test</code> för att ta fram funktionens hjälpsida. Försök att utifrån hjälpsidan beräkna ett <em>ensidigt</em> test för att se om medelskörden är <em>större</em> än 50.</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-75" class="exercise"><strong>Uppgift 5.6  (Ny nollhypotes) </strong></span>Upprepa det tvåsidiga testet från exemplet ovan. Testa denna gång om medelskörden är skild från 48. Dra en tydlig slutsats.</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-76" class="exercise"><strong>Uppgift 5.7  (Importera smältpunkt-data) </strong></span>På canvassidan finns en excelfil med data för kursens uppgifter <em>Uppgiftsdata.xlsx</em>. Fliken <em>Smältdata</em> innehåller data för en legerings smältpunkt.</p>
<p>Ladda ner filen till lämplig plats på datorn och importera datan genom att fylla i följande rad.</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb212-1" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb212-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb212-2" tabindex="-1"></a>dat_smält <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;___&quot;</span>, <span class="at">sheet =</span> <span class="st">&quot;Smältpunkt&quot;</span>)</span></code></pre></div>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-77" class="exercise"><strong>Uppgift 5.8  (Plotta smältpunkt-data) </strong></span>Illustrera smältpunktsdatan på samma sätt som exempeldatan genom att fylla i följande kod. Vårt mål är att testa om medelvärde är skilt från 1050, vilket här kan noteras med ett vertikalt streck vid 1050.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb213-1" tabindex="-1"></a><span class="fu">ggplot</span>(___, <span class="fu">aes</span>(<span class="at">x =</span> Smältpunkt, <span class="at">y =</span> <span class="dv">0</span>)) <span class="sc">+</span> </span>
<span id="cb213-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb213-2" tabindex="-1"></a>  <span class="fu">___</span>() <span class="sc">+</span></span>
<span id="cb213-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb213-3" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> ___, <span class="at">color =</span> <span class="st">&quot;red&quot;</span>)</span></code></pre></div>
<p>Kan man utifrån grafen säga om 1050 är ett rimligt medelvärde för populationen, givet det stickprov vi observerar?</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-78" class="exercise"><strong>Uppgift 5.9  (Hypotestest för hand) </strong></span>Genomför ett t-test för hand för att se om medelsmältpunkten är skild från 1050. Skriv ut tydliga hypoteser. Medelvärde och standardavvikelse ges av följande.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb214-1" tabindex="-1"></a><span class="fu">mean</span>(dat_smält<span class="sc">$</span>Smältpunkt)</span>
<span id="cb214-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb214-2" tabindex="-1"></a><span class="fu">sd</span>(dat_smält<span class="sc">$</span>Smältpunkt)</span></code></pre></div>
<p>Ett kritiskt värde kan tas från en tabell över t-fördelningen eller beräknas i R med</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb215-1" tabindex="-1"></a><span class="fu">qt</span>(<span class="fl">0.975</span>, <span class="at">df =</span> <span class="dv">9</span>)</span></code></pre></div>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-79" class="exercise"><strong>Uppgift 5.10  (Hypotestest i R) </strong></span>Genomför ett t-test med funktionen <code>t.test()</code> för att se om medelsmältpunkten är skild från 1050.</p>
</div>
</div>
<div id="konfidensintervall-för-normalfördelad-data" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Konfidensintervall för normalfördelad data<a href="ett-stickprov-av-normalfördelad-data.html#konfidensintervall-för-normalfördelad-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>För exemplet på havredata tittade vi på två olika värden för nollhypotesen.</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb216-1" tabindex="-1"></a><span class="fu">t.test</span>(dat<span class="sc">$</span>x, <span class="at">mu =</span> <span class="dv">50</span>)</span>
<span id="cb216-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb216-2" tabindex="-1"></a><span class="fu">t.test</span>(dat<span class="sc">$</span>x, <span class="at">mu =</span> <span class="dv">48</span>)</span></code></pre></div>
<p>Från p-värdena kan man dra slutsatsen att förkasta vid nollhypotesen att mu är 48, men inte förkasta vid nollhypotesen att mu är 50. Värdet 50 är alltså i någon mening ett mer troligt värde på populationens medelvärde än vad 48 är. <em>Konfidensintervall</em> kan ses som en generalisering av den tanken: ett konfidensintervall ger ett spann av värden där man <em>inte</em> förkastar. Intervallet tolkas vanligen som att det täcker det sanna populationsmedelvärdet med en viss konfidens.</p>
<p>För ett stickprov och antagen normalfördelning ges konfidensintervallet av</p>
<p>medelvärde ± kvantil från t-fördelningen x standardavvikelse delat på roten ur antalet observationer</p>
<p>Kvantilen från t-fördelningen kan hämtas från en tabell (samma som det kritiska värdet i testet) eller genom R. Antalet frihetsgrader ges av antalet observationer minus ett. I det här fallet ges delarna av</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb217-1" tabindex="-1"></a><span class="fu">mean</span>(dat<span class="sc">$</span>x)</span></code></pre></div>
<pre><code>## [1] 52</code></pre>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb219-1" tabindex="-1"></a><span class="fu">sd</span>(dat<span class="sc">$</span>x)</span></code></pre></div>
<pre><code>## [1] 4.680354</code></pre>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb221-1" tabindex="-1"></a><span class="fu">qt</span>(<span class="fl">0.975</span>, <span class="dv">7</span>)</span></code></pre></div>
<pre><code>## [1] 2.364624</code></pre>
<p>och konfidensintervallet ges alltså av</p>
<p>52 ± 2.365 * 4.680 / sqrt(8)</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-80" class="exercise"><strong>Uppgift 5.11  (Konfidensintervall för hand) </strong></span>Ta fram medelvärde, standardavvikelse och kritiskt värde för smältpunktsdata, med hjälp av R (eller en tabell för det kritiska värdet). Beräkna konfidensintervallet för smältpunktsdatan för hand.</p>
</div>
<p>Funktionen <code>t.test()</code> ger automatiskt ett konfidensintervall, direkt under utfallet av testet. Notera att konfidensintervallet inte beror på nollhypotesen. Konfidensintervall kan beräknas med skilda konfidensnivåer, oftast 95 procent, vilket sätts med argumentet <code>conf.level</code>.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-81" class="exercise"><strong>Uppgift 5.12  (Konfidensnivå) </strong></span>Gör lämplig ändring i koden nedan för att beräkna ett 99-procentigt konfidensintervall, istället för ett 95-procentigt.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb223-1" tabindex="-1"></a><span class="fu">t.test</span>(dat<span class="sc">$</span>x, <span class="at">conf.level =</span> <span class="fl">0.95</span>)</span></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  dat$x
## t = 31.425, df = 7, p-value = 8.538e-09
## alternative hypothesis: true mean is not equal to 0
## 95 percent confidence interval:
##  48.08713 55.91287
## sample estimates:
## mean of x 
##        52</code></pre>
<p>Är ett 99-procentigt konfidensintervall bredare eller smalare än ett 95-procentigt?</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-82" class="exercise"><strong>Uppgift 5.13  (Ensidiga konfidensintervall) </strong></span>I en tidigare uppgift användes argumentet <code>alternative</code> för att göra ett ensidigt test med <code>t.test()</code>. Vad händer med konfidensintervallet om man anger ett ensidigt test?</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-83" class="exercise"><strong>Uppgift 5.14  (Konfidensintervall för smältdata) </strong></span>Ta datan över smältpunkter och beräkna ett konfidensintervall med <code>t.test()</code>. Tolka intervallet.</p>
</div>
<p>Ett konfidensintervall illustreras ofta med en felstapel. Vi kan lägga till en till den punktgraf vi tidigare sett för observationerna.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb225-1" tabindex="-1"></a>interval <span class="ot">&lt;-</span> <span class="fu">t.test</span>(dat<span class="sc">$</span>x)<span class="sc">$</span>conf.int</span>
<span id="cb225-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb225-2" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(x, <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb225-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb225-3" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb225-4"><a href="ett-stickprov-av-normalfördelad-data.html#cb225-4" tabindex="-1"></a>  <span class="fu">annotate</span>(<span class="st">&quot;errorbar&quot;</span>, <span class="at">xmin =</span> interval[<span class="dv">1</span>], <span class="at">xmax =</span> interval[<span class="dv">2</span>], <span class="at">y =</span> <span class="sc">-</span><span class="dv">1</span>, <span class="at">width =</span> <span class="fl">0.1</span>)</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-147-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="exercise">
<p><span id="exr:unlabeled-div-84" class="exercise"><strong>Uppgift 5.15  (Illustration av smältdata) </strong></span>Använd exempelillustrationen för havredata till en liknande illustration av smältpunktsdatan.</p>
</div>
</div>
<div id="normalfördelad-data-och-centrala-gränsvärdesatsen" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Normalfördelad data och centrala gränsvärdesatsen<a href="ett-stickprov-av-normalfördelad-data.html#normalfördelad-data-och-centrala-gränsvärdesatsen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Eftersom t-testet bygger på att data är normalfördelad är det förstås bra att kunna undersöka om det antagandet stämmer. Ett sätt är att göra ett histogram över datan - om den underliggande variabeln är normalfördelad bör stickprovet ge den typiska klockformen. Det här kräver dock ganska mycket data. Ta ett histogram för havredatan som exempel</p>
<div class="sourceCode" id="cb226"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb226-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb226-1" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(x)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">5</span>)</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-148-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Uppenbarligen helt meningslöst. Låt oss titta på histogram över genererad normalfördelad data.</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb227-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb227-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb227-2" tabindex="-1"></a><span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(n)), <span class="at">bins =</span> <span class="dv">30</span>)</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-149-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="exercise">
<p><span id="exr:unlabeled-div-85" class="exercise"><strong>Uppgift 5.16  (Histogram för normalfördelning) </strong></span>Testa koden ovan för lite olika värden på <code>n</code>. Det kan vara nyttigt att sätta antalet staplar <code>bins</code> för att få ett bättre histogram. Hur stort måste n vara för att ge en karaktäristisk klockform för histogrammet?</p>
</div>
<p>Ett annat vanligt alternativ för att grafisk undersöka om data följer en ungefärlig normalfördelning är en QQ-graf (<em>QQ-plot</em>). En qq-graf är ett spridningsdiagram med teoretiska kvantiler på en axel och datans kvantiler på den andra axeln. Om data perfekt följer en normalfördelning kommer grafen visa en rak diagonal linje. En QQ-graf kan tas fram med <code>qqnorm()</code> eller <code>geom_qq()</code> i en ggplot. En diagonal linje för jämförelse kan läggas till med <code>geom_qq_line()</code>.</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb228-1" tabindex="-1"></a><span class="fu">ggplot</span>(dat, <span class="fu">aes</span>(<span class="at">sample =</span> x)) <span class="sc">+</span> <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>()</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-150-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Punkterna ligger nära linjen. Vi kan återigen demonstrera med lite genererad data.</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb229-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb229-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb229-2" tabindex="-1"></a>dat_norm <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(n))</span>
<span id="cb229-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb229-3" tabindex="-1"></a><span class="fu">ggplot</span>(dat_norm, <span class="fu">aes</span>(<span class="at">sample =</span> x)) <span class="sc">+</span> <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>()</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-151-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="exercise">
<p><span id="exr:unlabeled-div-86" class="exercise"><strong>Uppgift 5.17  (Histogram för normalfördelning) </strong></span>Funktionen <code>runif()</code> ger slumpmässiga värden mellan 0 och 1. Testa att ändra i kodstycket ovan så att slumptal genereras med <code>runif()</code> istället för <code>rnorm()</code>. Hur påverkar det QQ-grafen?</p>
</div>
</div>
<div id="centrala-gränsvärdesatsen" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Centrala gränsvärdesatsen<a href="ett-stickprov-av-normalfördelad-data.html#centrala-gränsvärdesatsen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Även om data inte är normalfördelad kan t-testet vara ett lämpligt val av test. Detta beror på <em>centrala gränsvärdesatsen</em>, som säger att summor (och därmed även medelvärden) av lika slumpvariabler går mot en normalfördelning där antalet observationer ökar. Den tidigare uppgiften gav att <code>runif()</code> inte ger normalfördelad data. Vad händer om vi tar medelvärdet av flera observationer från <code>runif()</code>? Följande kod beräknar tiotusen medelvärden av två observationer.</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb230-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb230-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb230-2" tabindex="-1"></a></span>
<span id="cb230-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb230-3" tabindex="-1"></a>dat_sim_unif <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(<span class="at">Observation =</span> <span class="dv">1</span><span class="sc">:</span>n, <span class="at">Upprepning =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb230-4"><a href="ett-stickprov-av-normalfördelad-data.html#cb230-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x =</span> <span class="fu">runif</span>(<span class="fu">n</span>())) <span class="sc">%&gt;%</span> </span>
<span id="cb230-5"><a href="ett-stickprov-av-normalfördelad-data.html#cb230-5" tabindex="-1"></a>  <span class="fu">group_by</span>(Upprepning) <span class="sc">%&gt;%</span> </span>
<span id="cb230-6"><a href="ett-stickprov-av-normalfördelad-data.html#cb230-6" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">x =</span> <span class="fu">mean</span>(x))</span>
<span id="cb230-7"><a href="ett-stickprov-av-normalfördelad-data.html#cb230-7" tabindex="-1"></a></span>
<span id="cb230-8"><a href="ett-stickprov-av-normalfördelad-data.html#cb230-8" tabindex="-1"></a><span class="fu">ggplot</span>(dat_sim_unif, <span class="fu">aes</span>(x)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">50</span>)</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-152-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb231-1" tabindex="-1"></a><span class="fu">ggplot</span>(dat_sim_unif, <span class="fu">aes</span>(<span class="at">sample =</span> x)) <span class="sc">+</span> <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>()</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-152-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>Fördelningen för summan är inte likformig, men inte heller särskilt normalfördelad. Vad händer om vi ökar antal termer i summan?</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-87" class="exercise"><strong>Uppgift 5.18  (Antalet observationer för normalfördelning) </strong></span>Vad måste ändras i koden ovan för beräkna medelvärdet av tio observationer? Följer de medelvärdena en ungefärlig normalfördelning? Vad är det lägsta antalet observationer som ger ungefärligen normalfördelade medelvärden?</p>
</div>
<p>Under en tidigare datorövning såg vi exempel på diskreta fördelningar: binomial- och poissonfördelningarna. Vi ska senare titta på specifika test för variabler som följer en diskret fördelning, men centrala gränsvärdesatsen kan även då rättfärdiga ett t-test. Ta som exempel medelvärdet av tio observationer som följer en poissonfördelning med lambda = 10.</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb232-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb232-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb232-2" tabindex="-1"></a>lambda <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb232-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb232-3" tabindex="-1"></a>dat_sim_unif <span class="ot">&lt;-</span> <span class="fu">expand_grid</span>(<span class="at">Observation =</span> <span class="dv">1</span><span class="sc">:</span>n, <span class="at">Upprepning =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10000</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb232-4"><a href="ett-stickprov-av-normalfördelad-data.html#cb232-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">x =</span> <span class="fu">rpois</span>(<span class="fu">n</span>(), <span class="at">lambda =</span> lambda)) <span class="sc">%&gt;%</span> </span>
<span id="cb232-5"><a href="ett-stickprov-av-normalfördelad-data.html#cb232-5" tabindex="-1"></a>  <span class="fu">group_by</span>(Upprepning) <span class="sc">%&gt;%</span> </span>
<span id="cb232-6"><a href="ett-stickprov-av-normalfördelad-data.html#cb232-6" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">x =</span> <span class="fu">mean</span>(x))</span>
<span id="cb232-7"><a href="ett-stickprov-av-normalfördelad-data.html#cb232-7" tabindex="-1"></a></span>
<span id="cb232-8"><a href="ett-stickprov-av-normalfördelad-data.html#cb232-8" tabindex="-1"></a><span class="fu">ggplot</span>(dat_sim_unif, <span class="fu">aes</span>(x)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>)</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-153-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb233-1" tabindex="-1"></a><span class="fu">ggplot</span>(dat_sim_unif, <span class="fu">aes</span>(<span class="at">sample =</span> x)) <span class="sc">+</span> <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>()</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-153-2.png" width="672" style="display: block; margin: auto;" /></p>
<p>Histogrammet visar på en typisk klockform och punkterna följer linjen <em>ungefärligt</em>. QQ-grafens trappeffekt är typisk för diskret data. Det här tyder alltså på att t-testet är ett acceptabelt alternativ om man har en poissonfördelning med lambda runt tio och gör tio upprepningar.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-88" class="exercise"><strong>Uppgift 5.19  (Svag normalapproximation) </strong></span>Testa att minska värdena på n och lambda. Vad är de lägsta värdena som ger ett histogram med en symmetrisk fördelning och punkter nära linjen i QQ-grafen?</p>
</div>
<p>Det kan också finnas situationer där någon matematisk transformation kan göra icke-normal data till normalfördelad data. Vanliga transformationer är att ta en kvadratrot eller att <em>logaritmera</em> datan. Som exempel kan vi återvända till Gapminder-datan vi använde i en tidigare datorövning. Paketet <code>patchwork</code> kan användas för att placera flera grafer bredvid varandra. Den exakta koden är mindre viktig här.</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-1" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb234-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-2" tabindex="-1"></a>gapminder_2007 <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>)</span>
<span id="cb234-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-3" tabindex="-1"></a></span>
<span id="cb234-4"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-4" tabindex="-1"></a>g1 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(gapminder_2007, <span class="fu">aes</span>(pop)) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>)</span>
<span id="cb234-5"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-5" tabindex="-1"></a>g2 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(gapminder_2007, <span class="fu">aes</span>(<span class="at">sample =</span> pop)) <span class="sc">+</span> <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>()</span>
<span id="cb234-6"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-6" tabindex="-1"></a>g3 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(gapminder_2007, <span class="fu">aes</span>(<span class="fu">sqrt</span>(pop))) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>)</span>
<span id="cb234-7"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-7" tabindex="-1"></a>g4 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(gapminder_2007, <span class="fu">aes</span>(<span class="at">sample =</span> <span class="fu">sqrt</span>(pop))) <span class="sc">+</span> <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>()</span>
<span id="cb234-8"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-8" tabindex="-1"></a>g5 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(gapminder_2007, <span class="fu">aes</span>(<span class="fu">log10</span>(pop))) <span class="sc">+</span> <span class="fu">geom_histogram</span>(<span class="at">bins =</span> <span class="dv">30</span>)</span>
<span id="cb234-9"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-9" tabindex="-1"></a>g6 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(gapminder_2007, <span class="fu">aes</span>(<span class="at">sample =</span> <span class="fu">log10</span>(pop))) <span class="sc">+</span> <span class="fu">geom_qq</span>() <span class="sc">+</span> <span class="fu">geom_qq_line</span>()</span>
<span id="cb234-10"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-10" tabindex="-1"></a></span>
<span id="cb234-11"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-11" tabindex="-1"></a><span class="fu">library</span>(patchwork)</span>
<span id="cb234-12"><a href="ett-stickprov-av-normalfördelad-data.html#cb234-12" tabindex="-1"></a>g1 <span class="sc">+</span> g3 <span class="sc">+</span> g5 <span class="sc">+</span> g2 <span class="sc">+</span> g4 <span class="sc">+</span> g6</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-154-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>I grafen har vi den ursprungliga variabeln (befolkning per land 2007), den kvadratrot-transformerade variabeln (<code>sqrt()</code>) och den log-transformerade variabeln (<code>log10()</code>). De två första fallen påverkas kraftigt av extremvärden och är klart icke-normala medan den log-transformerade variabeln ger en ungefärlig normalkurva och följer diagonalen väl i QQ-grafen.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-89" class="exercise"><strong>Uppgift 5.20  (Transformera medellivslängd) </strong></span>Använd kodstycket ovan som mall och ta fram grafer för medellivslängd (<code>lifeExp</code>) istället för befolkningsstorlek (<code>pop</code>). Visar grafen samma mönster som för befolkningsdatan?</p>
</div>
</div>
<div id="bonus.-simuleringar-för-t-test-och-konfidensintervall" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> Bonus. Simuleringar för t-test och konfidensintervall<a href="ett-stickprov-av-normalfördelad-data.html#bonus.-simuleringar-för-t-test-och-konfidensintervall" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Följande kod simulerar ett dataset om tio observationer från en normalfördelning med medelvärde 7 och standardavvikelse 5, beräknar ett hypotestest med nollhypotesen att populationsmedelvärdet är 7, och beräknar ett konfidensintervall.</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb235-1" tabindex="-1"></a>dat_sim <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">7</span>, <span class="at">sd =</span> <span class="dv">5</span>))</span>
<span id="cb235-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb235-2" tabindex="-1"></a><span class="fu">t.test</span>(dat_sim<span class="sc">$</span>x, <span class="at">mu =</span> <span class="dv">7</span>)</span></code></pre></div>
<pre><code>## 
##  One Sample t-test
## 
## data:  dat_sim$x
## t = -0.048365, df = 9, p-value = 0.9625
## alternative hypothesis: true mean is not equal to 7
## 95 percent confidence interval:
##  3.952579 9.919841
## sample estimates:
## mean of x 
##   6.93621</code></pre>
<div class="exercise">
<p><span id="exr:unlabeled-div-90" class="exercise"><strong>Uppgift 5.21  (Upprepad simulering) </strong></span>Kör de två raderna i stycket ovan ett tiotal gånger. Du bör se att man ibland förkastar nollhypotesen trots att den ska stämma. Kan du få en känsla för hur stor andel av gångerna man felaktigt förkastar?</p>
</div>
<p>Låt oss upprepa simuleringen tusen gånger. Ett sätt är att upprepa ett steg flera gånger är genom en for-loop.</p>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb237-1" tabindex="-1"></a>dat_sim <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb237-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb237-2" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>){</span>
<span id="cb237-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb237-3" tabindex="-1"></a>  new_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">7</span>, <span class="at">sd =</span> <span class="dv">5</span>))</span>
<span id="cb237-4"><a href="ett-stickprov-av-normalfördelad-data.html#cb237-4" tabindex="-1"></a>  test <span class="ot">&lt;-</span> <span class="fu">t.test</span>(new_data<span class="sc">$</span>x, <span class="at">mu =</span> <span class="dv">7</span>)</span>
<span id="cb237-5"><a href="ett-stickprov-av-normalfördelad-data.html#cb237-5" tabindex="-1"></a>  new_results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">t_value =</span> test<span class="sc">$</span>statistic, <span class="at">p_value =</span> test<span class="sc">$</span>p.value,</span>
<span id="cb237-6"><a href="ett-stickprov-av-normalfördelad-data.html#cb237-6" tabindex="-1"></a>               <span class="at">ci_lower =</span> test<span class="sc">$</span>conf.int[<span class="dv">1</span>], <span class="at">ci_upper =</span> test<span class="sc">$</span>conf.int[<span class="dv">2</span>])</span>
<span id="cb237-7"><a href="ett-stickprov-av-normalfördelad-data.html#cb237-7" tabindex="-1"></a>  dat_sim <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(dat_sim, new_results)</span>
<span id="cb237-8"><a href="ett-stickprov-av-normalfördelad-data.html#cb237-8" tabindex="-1"></a>}</span></code></pre></div>
<p>Enligt statistisk teori ska t-värdet följa en t-fördelning med nio frihetsgrader. Vi kan undersöka det genom ett histogram med en överliggande t-fördelning.</p>
<div class="sourceCode" id="cb238"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb238-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb238-1" tabindex="-1"></a><span class="fu">ggplot</span>(dat_sim) <span class="sc">+</span></span>
<span id="cb238-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb238-2" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="fu">aes</span>(t_value, <span class="at">y =</span> ..density..), <span class="at">bins =</span> <span class="dv">50</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>) <span class="sc">+</span></span>
<span id="cb238-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb238-3" tabindex="-1"></a>  <span class="fu">geom_function</span>(<span class="at">fun =</span> dt, <span class="at">args =</span> <span class="fu">list</span>(<span class="at">df =</span> <span class="dv">9</span>), <span class="at">color =</span> <span class="st">&quot;red&quot;</span>, <span class="at">size =</span> <span class="dv">1</span>)</span></code></pre></div>
<p><img src="R-anvisningar_files/figure-html/unnamed-chunk-157-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Den teoretiska t-fördelning passar histogrammet nästan perfekt.</p>
<p>Vidare ska p-värdet vara under fem procent fem procent av gångerna.</p>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb239-1" tabindex="-1"></a><span class="fu">mean</span>(dat_sim<span class="sc">$</span>p_value <span class="sc">&lt;</span> <span class="fl">0.05</span>)</span></code></pre></div>
<pre><code>## [1] 0.055</code></pre>
<p>Även det stämmer någorlunda väl. Det här innebär alltså att om man har en signifikansnivå på fem procent kommer man förkasta nollhypotesen fem procent av gångerna även om nollhypotesen stämmer. Det kallas ett <em>falskt positivt</em> utfall.</p>
<div class="exercise">
<p><span id="exr:unlabeled-div-91" class="exercise"><strong>Uppgift 5.22  (Simulerade konfidensintervall) </strong></span>Hur många av de simulerade konfidensintervallen täcker värdet 7?</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-92" class="exercise"><strong>Uppgift 5.23  (Signifikant skillnad) </strong></span>Stycket nedan simulerar data när populationsmedelvärdet är 9 och t-test har nollhypotesen att populationsmedelvärdet är 7. Här vill vi alltså förkasta nollhypotesen.</p>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb241-1" tabindex="-1"></a>dat_sim <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb241-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb241-2" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>){</span>
<span id="cb241-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb241-3" tabindex="-1"></a>  new_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(<span class="dv">10</span>, <span class="at">mean =</span> <span class="dv">9</span>, <span class="at">sd =</span> <span class="dv">5</span>))</span>
<span id="cb241-4"><a href="ett-stickprov-av-normalfördelad-data.html#cb241-4" tabindex="-1"></a>  test <span class="ot">&lt;-</span> <span class="fu">t.test</span>(new_data<span class="sc">$</span>x, <span class="at">mu =</span> <span class="dv">7</span>)</span>
<span id="cb241-5"><a href="ett-stickprov-av-normalfördelad-data.html#cb241-5" tabindex="-1"></a>  new_results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">t_value =</span> test<span class="sc">$</span>statistic, <span class="at">p_value =</span> test<span class="sc">$</span>p.value,</span>
<span id="cb241-6"><a href="ett-stickprov-av-normalfördelad-data.html#cb241-6" tabindex="-1"></a>               <span class="at">ci_lower =</span> test<span class="sc">$</span>conf.int[<span class="dv">1</span>], <span class="at">ci_upper =</span> test<span class="sc">$</span>conf.int[<span class="dv">2</span>])</span>
<span id="cb241-7"><a href="ett-stickprov-av-normalfördelad-data.html#cb241-7" tabindex="-1"></a>  dat_sim <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(dat_sim, new_results)</span>
<span id="cb241-8"><a href="ett-stickprov-av-normalfördelad-data.html#cb241-8" tabindex="-1"></a>}</span></code></pre></div>
<p>Använd kod från den första simuleringen för att undersöka hur väl histogrammet stämmer med den teoretiska fördelningen och för att se hur stor andel av gångerna man förkastar nollhypotesen på signifikansnivån 5 procent.</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-93" class="exercise"><strong>Uppgift 5.24  (50/50) </strong></span>Stycket nedan simulerar data när populationsmedelvärdet är 9 och t-test har nollhypotesen att populationsmedelvärdet är 7. Ändra värdet för n och se hur det påverkar andelen gånger man förkastar nollhypotesen.</p>
<div class="sourceCode" id="cb242"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb242-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb242-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-2" tabindex="-1"></a></span>
<span id="cb242-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-3" tabindex="-1"></a>dat_sim <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb242-4"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-4" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>){</span>
<span id="cb242-5"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-5" tabindex="-1"></a>  new_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">9</span>, <span class="at">sd =</span> <span class="dv">5</span>))</span>
<span id="cb242-6"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-6" tabindex="-1"></a>  test <span class="ot">&lt;-</span> <span class="fu">t.test</span>(new_data<span class="sc">$</span>x, <span class="at">mu =</span> <span class="dv">7</span>)</span>
<span id="cb242-7"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-7" tabindex="-1"></a>  new_results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">t_value =</span> test<span class="sc">$</span>statistic, <span class="at">p_value =</span> test<span class="sc">$</span>p.value,</span>
<span id="cb242-8"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-8" tabindex="-1"></a>               <span class="at">ci_lower =</span> test<span class="sc">$</span>conf.int[<span class="dv">1</span>], <span class="at">ci_upper =</span> test<span class="sc">$</span>conf.int[<span class="dv">2</span>])</span>
<span id="cb242-9"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-9" tabindex="-1"></a>  dat_sim <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(dat_sim, new_results)</span>
<span id="cb242-10"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-10" tabindex="-1"></a>}</span>
<span id="cb242-11"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-11" tabindex="-1"></a></span>
<span id="cb242-12"><a href="ett-stickprov-av-normalfördelad-data.html#cb242-12" tabindex="-1"></a><span class="fu">mean</span>(dat_sim<span class="sc">$</span>p_value <span class="sc">&lt;</span> <span class="fl">0.05</span>)</span></code></pre></div>
<p>Ungefär hur många observationer behövs för att ha femtio procents sannolikhet att förkasta nollhypotesen?</p>
</div>
<div class="exercise">
<p><span id="exr:unlabeled-div-94" class="exercise"><strong>Uppgift 5.25  (Konfidensintervallets bredd) </strong></span>Ett konfidensintervall blir smalare och smalare ju större stickprovet är. Koden nedan ger medelvärdet för stickprovsbredden i simulerad data med standardavvikelsen 1.</p>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-1" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb243-2"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-2" tabindex="-1"></a></span>
<span id="cb243-3"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-3" tabindex="-1"></a>dat_sim <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span>
<span id="cb243-4"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-4" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">1000</span>){</span>
<span id="cb243-5"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-5" tabindex="-1"></a>  new_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">x =</span> <span class="fu">rnorm</span>(n, <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> <span class="dv">1</span>))</span>
<span id="cb243-6"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-6" tabindex="-1"></a>  test <span class="ot">&lt;-</span> <span class="fu">t.test</span>(new_data<span class="sc">$</span>x, <span class="at">mu =</span> <span class="dv">7</span>)</span>
<span id="cb243-7"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-7" tabindex="-1"></a>  new_results <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">t_value =</span> test<span class="sc">$</span>statistic, <span class="at">p_value =</span> test<span class="sc">$</span>p.value,</span>
<span id="cb243-8"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-8" tabindex="-1"></a>               <span class="at">ci_lower =</span> test<span class="sc">$</span>conf.int[<span class="dv">1</span>], <span class="at">ci_upper =</span> test<span class="sc">$</span>conf.int[<span class="dv">2</span>])</span>
<span id="cb243-9"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-9" tabindex="-1"></a>  dat_sim <span class="ot">&lt;-</span> <span class="fu">bind_rows</span>(dat_sim, new_results)</span>
<span id="cb243-10"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-10" tabindex="-1"></a>}</span>
<span id="cb243-11"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-11" tabindex="-1"></a></span>
<span id="cb243-12"><a href="ett-stickprov-av-normalfördelad-data.html#cb243-12" tabindex="-1"></a><span class="fu">mean</span>(dat_sim<span class="sc">$</span>ci_upper <span class="sc">-</span> dat_sim<span class="sc">$</span>ci_lower)</span></code></pre></div>
<p>Ungefär hur många observationer behövs för att konfidensintervallets bredd ska bli under 1, under 0.9, under 0.8, och så vidare ned till 0.1?</p>
</div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="slumpvariabler.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="ett-stickprov-av-icke-normalfördelad-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": false
},
"fontsettings": {
"theme": "sepia",
"family": "serif",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R-anvisningar.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
